(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3669:function(e,t,l){let r=l(7294),i=r.forwardRef(function({title:e,titleId:t,...l},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},l),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"}))});e.exports=i},2754:function(e,t,l){let r=l(7294),i=r.forwardRef(function({title:e,titleId:t,...l},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},l),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"}))});e.exports=i},6493:function(e,t,l){let r=l(7294),i=r.forwardRef(function({title:e,titleId:t,...l},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},l),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"}))});e.exports=i},9275:function(e,t,l){let r=l(7294),i=r.forwardRef(function({title:e,titleId:t,...l},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},l),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"}))});e.exports=i},5704:function(e,t,l){let r=l(7294),i=r.forwardRef(function({title:e,titleId:t,...l},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},l),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}))});e.exports=i},8034:function(e,t,l){let r=l(7294),i=r.forwardRef(function({title:e,titleId:t,...l},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},l),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});e.exports=i},243:function(e,t,l){let r=l(7294),i=r.forwardRef(function({title:e,titleId:t,...l},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},l),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))});e.exports=i},1451:function(e,t,l){let r=l(7294),i=r.forwardRef(function({title:e,titleId:t,...l},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},l),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z",clipRule:"evenodd"}))});e.exports=i},8312:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(6032)}])},1954:function(e,t,l){"use strict";var r=l(9734),i=l(88);let s=()=>{let{data:e,error:t,isLoading:l,mutate:s}=(0,r.ZP)("/api/current",i.Z);return{data:e,error:t,isLoading:l,mutate:s}};t.Z=s},6159:function(e,t,l){"use strict";var r=l(9734),i=l(88);let s=e=>{let{data:t,error:l,isLoading:s}=(0,r.ZP)(e?"/api/movies/".concat(e):null,i.Z,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});return{data:t,error:l,isLoading:s}};t.Z=s},88:function(e,t,l){"use strict";var r=l(8433);let i=e=>r.Z.get(e).then(e=>e.data);t.Z=i},6032:function(e,t,l){"use strict";l.r(t),l.d(t,{__N_SSP:function(){return D},default:function(){return U}});var r,i=l(5893),s=l(7294),n=l(6493),a=l(5704),o=l(3669),c=l(3299),d=l(1954);let u=e=>{let{visible:t}=e,{data:l}=(0,d.Z)();return t?(0,i.jsxs)("div",{className:"bg-black w-56 absolute top-14 right-0 py-5 flex-col border-2 border-gray-800 flex",children:[(0,i.jsx)("div",{className:"flex flex-col gap-3",children:(0,i.jsxs)("div",{className:"px-3 group/item flex flex-row gap-3 items-center w-full",children:[(0,i.jsx)("img",{className:"w-8 rounded-md",src:"/images/default-blue.png",alt:""}),(0,i.jsx)("p",{className:"text-white text-sm group-hover/item:underline",children:null==l?void 0:l.name})]})}),(0,i.jsx)("hr",{className:"bg-gray-600 border-0 h-px my-4"}),(0,i.jsx)("div",{onClick:()=>(0,c.signOut)(),className:"px-3 text-center text-white text-sm hover:underline",children:"Sign out of Netflix"})]}):null},x=e=>{let{visible:t}=e;return t?(0,i.jsx)("div",{className:"bg-black w-56 absolute top-8 left-0 py-5 flex-col border-2 border-gray-800 flex",children:(0,i.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,i.jsx)("div",{className:"px-3 text-center text-white hover:underline",children:"Home"}),(0,i.jsx)("div",{className:"px-3 text-center text-white hover:underline",children:"Series"}),(0,i.jsx)("div",{className:"px-3 text-center text-white hover:underline",children:"Films"}),(0,i.jsx)("div",{className:"px-3 text-center text-white hover:underline",children:"New & Popular"}),(0,i.jsx)("div",{className:"px-3 text-center text-white hover:underline",children:"My List"}),(0,i.jsx)("div",{className:"px-3 text-center text-white hover:underline",children:"Browse by Languages"})]})}):null},m=e=>{let{label:t,active:l}=e;return(0,i.jsx)("div",{className:l?"text-white cursor-default":"text-gray-200 hover:text-gray-300 cursor-pointer transition",children:t})},v=()=>{let[e,t]=(0,s.useState)(!1),[l,r]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=()=>{console.log(window.scrollY),window.scrollY>=66?d(!0):d(!1)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]);let v=(0,s.useCallback)(()=>{t(e=>!e)},[]),h=(0,s.useCallback)(()=>{r(e=>!e)},[]);return(0,i.jsx)("nav",{className:"w-full fixed z-40",children:(0,i.jsxs)("div",{className:"px-4 md:px-16 py-6 flex flex-row items-center transition duration-500 ".concat(c?"bg-zinc-900 bg-opacity-90":""),children:[(0,i.jsx)("img",{src:"/images/logo.png",className:"h-4 lg:h-7",alt:"Logo"}),(0,i.jsxs)("div",{className:"flex-row ml-8 gap-7 hidden lg:flex",children:[(0,i.jsx)(m,{label:"Home",active:!0}),(0,i.jsx)(m,{label:"Series"}),(0,i.jsx)(m,{label:"Films"}),(0,i.jsx)(m,{label:"New & Popular"}),(0,i.jsx)(m,{label:"My List"}),(0,i.jsx)(m,{label:"Browse by Languages"})]}),(0,i.jsxs)("div",{onClick:h,className:"lg:hidden flex flex-row items-center gap-2 ml-8 cursor-pointer relative",children:[(0,i.jsx)("p",{className:"text-white text-sm",children:"Browse"}),(0,i.jsx)(n,{className:"w-4 text-white fill-white transition ".concat(l?"rotate-180":"rotate-0")}),(0,i.jsx)(x,{visible:l})]}),(0,i.jsxs)("div",{className:"flex flex-row ml-auto gap-7 items-center",children:[(0,i.jsx)("div",{className:"text-gray-200 hover:text-gray-300 cursor-pointer transition",children:(0,i.jsx)(a,{className:"w-6"})}),(0,i.jsx)("div",{className:"text-gray-200 hover:text-gray-300 cursor-pointer transition",children:(0,i.jsx)(o,{className:"w-6"})}),(0,i.jsxs)("div",{onClick:v,className:"flex flex-row items-center gap-2 cursor-pointer relative",children:[(0,i.jsx)("div",{className:"w-6 h-6 lg:w-10 lg:h-10 rounded-md overflow-hidden",children:(0,i.jsx)("img",{src:"/images/default-blue.png",alt:""})}),(0,i.jsx)(n,{className:"w-4 text-white fill-white transition ".concat(e?"rotate-180":"rotate-0")}),(0,i.jsx)(u,{visible:e})]})]})]})})};var h=l(9275),f=l(1451),w=l(1163);let p=e=>{let{movieId:t}=e,l=(0,w.useRouter)();return(0,i.jsxs)("button",{onClick:()=>l.push("/watch/".concat(t)),className:" bg-white  rounded-md  py-1 md:py-2  px-2 md:px-4 w-auto  text-xs lg:text-lg  font-semibold flex flex-row items-center hover:bg-neutral-300 transition ",children:[(0,i.jsx)(f,{className:"w-4 md:w-7 text-black mr-1"}),"Play"]})};var g=l(9734),b=l(88);let j=()=>{let{data:e,error:t,isLoading:l}=(0,g.ZP)("/api/random",b.Z,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});return{data:e,error:t,isLoading:l}},N=e=>{let t;let l=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=r?r:"object"!=typeof i)?i:Object.assign({},t,i),l.forEach(l=>l(t,e))}},i=()=>t,s=e=>(l.add(e),()=>l.delete(e)),n=()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),l.clear()},a={setState:r,getState:i,subscribe:s,destroy:n};return t=e(r,i,a),a},y=e=>e?N(e):N;var k=l(2798);let{useSyncExternalStoreWithSelector:E}=k,C=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?y(e):e,l=(e,l)=>(function(e,t=e.getState,l){let r=E(e.subscribe,e.getState,e.getServerState||e.getState,t,l);return(0,s.useDebugValue)(r),r})(t,e,l);return Object.assign(l,t),l},O=(r=e=>({movieId:void 0,isOpen:!1,openModal:t=>e({isOpen:!0,movieId:t}),closeModal:()=>e({isOpen:!1,movieId:void 0})}))?C(r):C,S=()=>{let{openModal:e}=O(),{data:t}=j(),l=(0,s.useCallback)(()=>{e(null==t?void 0:t.id)},[e,null==t?void 0:t.id]);return(0,i.jsxs)("div",{className:"relative h-[56.25vw]",children:[(0,i.jsx)("video",{poster:null==t?void 0:t.thumbnailUrl,className:"w-full h-[56.25vw] object-cover brightness-[60%] transition duration-500",autoPlay:!0,muted:!0,loop:!0,src:null==t?void 0:t.videoUrl}),(0,i.jsxs)("div",{className:"absolute top-[30%] md:top-[40%] ml-4 md:ml-16",children:[(0,i.jsx)("p",{className:"text-white text-1xl md:text-5xl h-full w-[50%] lg:text-6xl font-bold drop-shadow-xl",children:null==t?void 0:t.title}),(0,i.jsx)("p",{className:"text-white text-[8px] md:text-lg mt-3 md:mt-8 w-[90%] md:w-[80%] lg:w-[50%] drop-shadow-xl",children:null==t?void 0:t.description}),(0,i.jsxs)("div",{className:"flex flex-row items-center mt-3 md:mt-4 gap-3",children:[(0,i.jsx)(p,{movieId:null==t?void 0:t.id}),(0,i.jsxs)("button",{onClick:l,className:" bg-white text-white bg-opacity-30  rounded-md  py-1 md:py-2  px-2 md:px-4 w-auto  text-xs lg:text-lg  font-semibold flex flex-row items-center hover:bg-opacity-20 transition ",children:[(0,i.jsx)(h,{className:"w-4 md:w-7 mr-1"}),"More Info"]})]})]})]})};var L=l(8433),M=l(2754),R=l(8034);let Z=()=>{let{data:e,error:t,isLoading:l,mutate:r}=(0,g.ZP)("/api/favorites",b.Z,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});return{data:e,error:t,isLoading:l,mutate:r}},I=e=>{let{movieId:t}=e,{mutate:l}=Z(),{data:r,mutate:n}=(0,d.Z)(),a=(0,s.useMemo)(()=>{let e=(null==r?void 0:r.favoriteIds)||[];return e.includes(t)},[r,t]),o=(0,s.useCallback)(async()=>{var e;let i;i=a?await L.Z.delete("/api/favorite",{data:{movieId:t}}):await L.Z.post("/api/favorite",{movieId:t});let s=null==i?void 0:null===(e=i.data)||void 0===e?void 0:e.favoriteIds;n({...r,favoriteIds:s}),l()},[t,a,r,n,l]);return(0,i.jsx)("div",{onClick:o,className:"cursor-pointer group/item w-6 h-6 lg:w-10 lg:h-10 border-white border-2 rounded-full flex justify-center items-center transition hover:border-neutral-300",children:(0,i.jsx)(a?M:R,{className:"text-white group-hover/item:text-neutral-300 w-4 lg:w-6"})})},P=e=>{let{data:t}=e,l=(0,w.useRouter)(),{openModal:r}=O(),a=(0,s.useCallback)(()=>l.push("/watch/".concat(t.id)),[l,t.id]);return(0,i.jsxs)("div",{className:"group bg-zinc-900 col-span relative h-[12vw]",children:[(0,i.jsx)("img",{onClick:a,src:t.thumbnailUrl,alt:"Movie",draggable:!1,className:" cursor-pointer object-cover transition duration shadow-xl rounded-md group-hover:opacity-90 sm:group-hover:opacity-0 delay-300 w-full h-[12vw] "}),(0,i.jsxs)("div",{className:" opacity-0 absolute top-0 transition duration-200 z-10 invisible sm:visible delay-300 w-full scale-0 group-hover:scale-110 group-hover:-translate-y-[6vw] group-hover:translate-x-[2vw] group-hover:opacity-100 ",children:[(0,i.jsx)("img",{onClick:a,src:t.thumbnailUrl,alt:"Movie",draggable:!1,className:" cursor-pointer object-cover transition duration shadow-xl rounded-t-md w-full h-[12vw] "}),(0,i.jsxs)("div",{className:" z-10 bg-zinc-800 p-2 lg:p-4 absolute w-full transition shadow-md rounded-b-md ",children:[(0,i.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,i.jsx)("div",{onClick:a,className:"cursor-pointer w-6 h-6 lg:w-10 lg:h-10 bg-white rounded-full flex justify-center items-center transition hover:bg-neutral-300",children:(0,i.jsx)(f,{className:"text-black w-4 lg:w-6"})}),(0,i.jsx)(I,{movieId:t.id}),(0,i.jsx)("div",{onClick:()=>r(null==t?void 0:t.id),className:"cursor-pointer ml-auto group/item w-6 h-6 lg:w-10 lg:h-10 border-white border-2 rounded-full flex justify-center items-center transition hover:border-neutral-300",children:(0,i.jsx)(n,{className:"text-white group-hover/item:text-neutral-300 w-4 lg:w-6"})})]}),(0,i.jsxs)("p",{className:"text-green-400 font-semibold mt-4",children:["New ",(0,i.jsx)("span",{className:"text-white",children:"2023"})]}),(0,i.jsx)("div",{className:"flex flex-row mt-4 gap-2 items-center",children:(0,i.jsx)("p",{className:"text-white text-[10px] lg:text-sm",children:t.duration})}),(0,i.jsx)("div",{className:"flex flex-row items-center gap-2 mt-4 text-[8px] text-white lg:text-sm",children:(0,i.jsx)("p",{children:t.genre})})]})]})]})};var _=l(6486);let z=e=>{let{data:t,title:l}=e;return(0,_.isEmpty)(t)?null:(0,i.jsx)("div",{className:"px-4 md:px-12 mt-4 space-y-8",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-white text-md md:text-xl lg:text-2xl font-semibold mb-4",children:l}),(0,i.jsx)("div",{className:"grid grid-cols-4 gap-2",children:t.map(e=>(0,i.jsx)(P,{data:e},e.id))})]})})};var B=l(243),V=l(6159);let W=e=>{let{visible:t,onClose:l}=e,[r,n]=(0,s.useState)(!!t),{movieId:a}=O(),{data:o={}}=(0,V.Z)(a);(0,s.useEffect)(()=>{n(!!t)},[t]);let c=(0,s.useCallback)(()=>{n(!1),setTimeout(()=>{l()},300)},[l]);return t?(0,i.jsx)("div",{className:"z-50 transition duration-300 bg-black bg-opacity-80 flex justify-center items-center overflow-x-hidden overflow-y-auto fixed inset-0",children:(0,i.jsx)("div",{className:"relative w-auto mx-auto max-w-3xl rounded-md overflow-hidden",children:(0,i.jsxs)("div",{className:"".concat(r?"scale-100":"scale-0"," transform duration-300 relative flex-auto bg-zinc-900 drop-shadow-md"),children:[(0,i.jsxs)("div",{className:"relative h-96",children:[(0,i.jsx)("video",{poster:null==o?void 0:o.thumbnailUrl,autoPlay:!0,muted:!0,loop:!0,src:null==o?void 0:o.videoUrl,className:"w-full brightness-[60%] object-cover h-full"}),(0,i.jsx)("div",{onClick:c,className:"cursor-pointer absolute top-3 right-3 h-10 w-10 rounded-full bg-black bg-opacity-70 flex items-center justify-center",children:(0,i.jsx)(B,{className:"text-white w-6"})}),(0,i.jsxs)("div",{className:"absolute bottom-[10%] left-10",children:[(0,i.jsx)("p",{className:"text-white text-3xl md:text-4xl h-full lg:text-5xl font-bold mb-8",children:null==o?void 0:o.title}),(0,i.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[(0,i.jsx)(p,{movieId:null==o?void 0:o.id}),(0,i.jsx)(I,{movieId:null==o?void 0:o.id})]})]})]}),(0,i.jsxs)("div",{className:"px-12 py-8",children:[(0,i.jsxs)("div",{className:"flex flex-row items-center gap-2 mb-8",children:[(0,i.jsx)("p",{className:"text-green-400 font-semibold text-lg",children:"New"}),(0,i.jsx)("p",{className:"text-white text-lg",children:null==o?void 0:o.duration}),(0,i.jsx)("p",{className:"text-white text-lg",children:null==o?void 0:o.genre})]}),(0,i.jsx)("p",{className:"text-white text-lg",children:null==o?void 0:o.description})]})]})})}):null},F=()=>{let{data:e,error:t,isLoading:l}=(0,g.ZP)("/api/movies",b.Z,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});return{data:e,error:t,isLoading:l}},T=()=>{let{data:e=[]}=F(),{data:t=[]}=Z(),{isOpen:l,closeModal:r}=O();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(W,{visible:l,onClose:r}),(0,i.jsx)(v,{}),(0,i.jsx)(S,{}),(0,i.jsxs)("div",{className:"pb-40",children:[(0,i.jsx)(z,{title:"Trending Now",data:e}),(0,i.jsx)(z,{title:"My List",data:t})]})]})};var D=!0,U=T},139:function(e,t,l){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=l(7294),i=l(1688),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=i.useSyncExternalStore,a=r.useRef,o=r.useEffect,c=r.useMemo,d=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,l,r,i){var u=a(null);if(null===u.current){var x={hasValue:!1,value:null};u.current=x}else x=u.current;u=c(function(){function e(e){if(!o){if(o=!0,n=e,e=r(e),void 0!==i&&x.hasValue){var t=x.value;if(i(t,e))return a=t}return a=e}if(t=a,s(n,e))return t;var l=r(e);return void 0!==i&&i(t,l)?t:(n=e,a=l)}var n,a,o=!1,c=void 0===l?null:l;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,l,r,i]);var m=n(e,u[0],u[1]);return o(function(){x.hasValue=!0,x.value=m},[m]),d(m),m}},2798:function(e,t,l){"use strict";e.exports=l(139)}},function(e){e.O(0,[662,172,734,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);